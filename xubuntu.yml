---
- name: Preparing Workstation
  hosts: localhost
  connection: local
  tasks:

    - name: Installing Linux Apps
      become: true
      apt:
        name: '{{ item }}'
        install_recommends: yes
        state: present
      loop:
          
          - python3-pip
          - git
          - apt-transport-https
          - gnupg-agent
          - flameshot
          - fonts-hack
          - virtualbox
          - vlc
         
    - block:
      - name: Install Google Repository
        become: true
        apt_repository:
          repo: 'deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main'
          state: present
          filename: google-chrome
      - name: Install Google Chrome
        become: true
        apt:
          name: google-chrome-stable

    - block:
      - name: Install Microsoft Key
        become: true
        apt_key:
          url: 'https://packages.microsoft.com/keys/microsoft.asc'
          state: present
      - name: Install VSCode Repository
        become: true
        apt_repository:
          repo: 'deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main'
          state: present
          filename: vscode
      - name: Install Visual Studio Code
        become: true
        apt:
          name: code
      - name: Install Virtual Studio Code Extensions
        shell:
          cmd: code --install-extension '{{ item }}' 
        loop: 
          - ms-python.python
          - vscode-icons-team.vscode-icons
          - dbaeumer.vscode-eslint
          - VisualStudioExptTeam.vscodeintellicode
          - Seven1bit.vscode-ext-ansi-color-highlight
          - abusaidm.html-snippets
          - ecmel.vscode-html-css
          - HookyQR.beautify
                       
# OPTIONAL:
#  - OBS-STUDIO - Screen Recorder and Casting Software 

    - block:
      - name: Install obsproject Ubuntu Repo
        become: true
        apt_repository:
          repo: 'ppa:obsproject/obs-studio'
      - name: Install obs Studio
        become: true
        apt:
          name: obs-studio 